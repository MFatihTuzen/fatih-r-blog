{
  "hash": "a0148ebd6c90d3ba178c69c38370297c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Unlocking CBRT Data in R: A Guide to the CBRT R Package\"\nauthor: \"M. Fatih Tüzen\"\ndate: \"2024-12-31\"\ncategories: [R Programming, CBRT, EVDS , Import, API]\n---\n\n\n\n![](images/clipboard-2062160124.png){fig-align=\"center\"}\n\nThe Central Bank of the Republic of Turkey (CBRT) provides a wealth of economic data crucial for researchers, analysts, and policymakers. Through the Electronic Data Delivery System (EVDS ), users can access time-series data on various economic indicators. With the `CBRT` R package this process becomes streamlined, empowering users to integrate CBRT data directly into their R workflows. This blog post delves into the details of accessing CBRT data using the package, explaining everything from obtaining an API key to practical examples of retrieving economic series.\n\n## Introduction\n\nThe CBRT serves as Turkey's central bank, tasked with implementing monetary policies and maintaining financial stability. The EVDS (Elektronik Veri Dağıtım Sistemi) is the CBRT's online data delivery platform, providing access to a vast repository of economic data, including price indices, exchange rates, monetary aggregates, and more. EVDS supports API-based data retrieval, allowing programmatic access to its datasets.\n\n## EVDS\n\n[The Electronic Data Delivery System (EVDS)](https://evds2.tcmb.gov.tr/index.php) is a dynamic and interactive system that presents statistical time series data produced by the CBRT and/or data produced by other institutions and compiled by the CBRT. These data are published on dynamic web pages. They can also be reported in the xls format or through the web service client (json, csv, xml), viewed in the graphics format, and received via e-mail by subscribing to the system. The EVDS was first introduced in 1995 and is available in Turkish and English.\n\nThe system provides a rich range of economic data and information to support economic education and foster economic research. Its technical infrastructure was revised in October 2017. The EVDS serves the public with its new facilities and content such as the REST web service, Customization, Reports, Interactive Charts, Frequently Used Data Groups, Recently Updated Data Groups, and data displayed on Turkey and world maps.\n\n## Setting Up Access: The API Key\n\nTo access EVDS data programmatically, you need an API key, which serves as a unique identifier for authenticating your requests.\n\n1.  **Requesting an API Key:**\\\n    Visit [EVDS](https://evds2.tcmb.gov.tr/index.php) and create an account. Once logged in, navigate to the API access section to generate your personal API key.\n\n2.  **Storing Your API Key Securely:**\\\n    Avoid hardcoding your API key in scripts. Instead, save it in a `.txt` file and read it into your R session. For example:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\napi_key <- readLines(\"path/to/your_api_key.txt\")\n```\n:::\n\n\n\n## CBRT Package\n\nThe **CBRT R package**, developed by [Prof. Dr. Erol Taymaz](https://avesis.metu.edu.tr/etaymaz) from Middle East Technical University, is a powerful tool designed to simplify data retrieval from the Central Bank of the Republic of Turkey's (CBRT) Electronic Data Delivery System (EVDS). This package enables users to efficiently access and analyze economic indicators by providing functions for querying data series, retrieving metadata, and searching for relevant datasets through the EVDS API. he CBRT package includes functions for finding, and downloading data from the Central Bank of the Republic of Türkiye’s database. The CBRT database covers more than 40,000 time series variables. For detailed documentation and further insights into the package, you can visit [this link](https://etaymaz.github.io/cbrt-2024.html).\n\nThe package is now available at [CRAN](https://cran.r-project.org/web/packages/CBRT) (November 13, 2024), and can be installed by\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"CBRT\")\n```\n:::\n\n\n\n## Core Functions\n\nAll **data series** (variables) are classified into **data groups**, and data groups into **data categories**. There are 44 data categories (including the archieved ones), 499 data groups, and 40,826 data series.\n\n### getAllCategoriesInfo\n\nThe `getAllCategoriesInfo` function in the **CBRT R package** provides a convenient way to access information about the main data categories available in the Central Bank of the Republic of Türkiye's (CBRT) Electronic Data Delivery System (EVDS). This function requires a valid API key as an argument to authenticate your request. By retrieving a structured list of these categories, users can explore the high-level organization of economic data offered by the EVDS API.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(CBRT)\nmy_api_key <- readLines(\"D:/evds_api_key.txt\",warn=FALSE)\n\nCategories <- getAllCategoriesInfo(CBRTKey = my_api_key)\nhead(Categories)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   cid                                    topic\n1:   1                       MARKET DATA (CBRT)\n2:   2                    EXCHANGE RATES (CBRT)\n3:   3          INTEREST RATE STATISTICS (CBRT)\n4:   4 MONTHLY MONEY AND BANK STATISTICS (CBRT)\n5:   5             SECURITIES STATISTICS (CBRT)\n6:  12         FINANCIAL SERVICES SURVEY (CBRT)\n```\n\n\n:::\n:::\n\n\n\n### getAllGroupsInfo\n\nThe **CBRT R package** offers the `getAllGroupsInfo` function, which allows users to access detailed information about the groups within specific categories in the Central Bank of the Republic of Turkey's (CBRT) Electronic Data Delivery System (EVDS). Similar to `getAllCategoriesInfo`, this function requires a valid API key for authentication. The groups represent subcategories or finer classifications of data within the broader main categories. By leveraging the `cid` (category ID) variable from the categories table, users can establish a relationship between categories and their corresponding groups. This functionality provides a structured approach to exploring the hierarchy of economic data in EVDS, enabling users to efficiently navigate and identify the datasets most relevant to their research or analysis.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nGroups <- getAllGroupsInfo(CBRTKey = my_api_key)\nhead(Groups)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   cid    groupCode\n1:   1   bie_pyrepo\n2:   0   bie_mkbral\n3:  25 bie_mkaltytl\n4:   1   bie_ppibsm\n5:   1 bie_pyintbnk\n6:   1    bie_tldov\n                                                                              groupName\n1:                                       Open Market Repo and Reverse Repo Transactions\n2:                                           Istanbul Gold Exchange (TRY_USD) (Archive)\n3:                                           Gold Prices (Averaged) - Free Market (TRY)\n4: Free Deposits of Banks and Total Liquidity (Beginning of the Day)(Million TRY)(CBRT)\n5:                      Interbank Money Market Transactions Summary (TRY Thousand or %)\n6:     Total Volume of FX Transaction of Banks Against Turkish Lira (Million USD, CBRT)\n   freq         source sourceLink revisionPolicy appLink  firstDate   lastDate\n1:    5           CBRT                                   01-08-2020 01-05-1989\n2:    2 BORSA ISTANBUL                                   29-06-2018 27-07-1995\n3:    5         Market                                   01-11-2024 01-12-1950\n4:    2           CBRT                                   31-12-2024 04-01-2007\n5:    2           CBRT                                   30-12-2024 04-11-1996\n6:    2           CBRT                                   23-12-2024 14-10-2002\n```\n\n\n:::\n:::\n\n\n\nAdditionally, the groups table contains valuable metadata, including the date ranges for available data, data frequency, and data sources. The frequency of the data is indicated by predefined frequency codes:\n\n1.  Daily\n\n2.  Workday\n\n3.  Weekly\n\n4.  Biweekly\n\n5.  Monthly\n\n6.  Quarterly\n\n7.  Semiannual\n\n8.  Annual\n\n### getAllSeriesInfo\n\nThe `getAllSeriesInfo` function in the **CBRT R package** enables users to retrieve up-to-date metadata for data series available in the Central Bank of the Republic of Turkey's (CBRT) Electronic Data Delivery System (EVDS). This function, like others in the package, requires a valid API key for authentication. The metadata includes essential details such as group codes, series names, and other relevant information about the datasets within a chosen topic. These details help users identify and filter specific series of interest. Furthermore, by utilizing key variables, the series metadata can be linked to the categories and groups tables, allowing users to establish relationships across the data hierarchy. This capability ensures a structured and interconnected exploration of economic datasets, simplifying the process of locating and analyzing relevant data for research or analysis.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nSeries <- getAllSeriesInfo(CBRTKey = my_api_key)\n```\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(Series)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   cid                                                                topic\n1:   7 DEPOSITS AND PARTICIPATION FUNDS SUBJECT TO REQUIRED RESERVES (CBRT)\n2:   7 DEPOSITS AND PARTICIPATION FUNDS SUBJECT TO REQUIRED RESERVES (CBRT)\n3:   7 DEPOSITS AND PARTICIPATION FUNDS SUBJECT TO REQUIRED RESERVES (CBRT)\n4:   7 DEPOSITS AND PARTICIPATION FUNDS SUBJECT TO REQUIRED RESERVES (CBRT)\n5:   7 DEPOSITS AND PARTICIPATION FUNDS SUBJECT TO REQUIRED RESERVES (CBRT)\n6:   7 DEPOSITS AND PARTICIPATION FUNDS SUBJECT TO REQUIRED RESERVES (CBRT)\n       groupCode\n1: bie_KYBKATFON\n2: bie_KYBKATFON\n3: bie_KYBKATFON\n4: bie_KYBKATFON\n5: bie_KYBKATFON\n6: bie_KYBKATFON\n                                                          groupName freq\n1: Breakdown of Participation Funds Subject to Reserve Requirements    3\n2: Breakdown of Participation Funds Subject to Reserve Requirements    3\n3: Breakdown of Participation Funds Subject to Reserve Requirements    3\n4: Breakdown of Participation Funds Subject to Reserve Requirements    3\n5: Breakdown of Participation Funds Subject to Reserve Requirements    3\n6: Breakdown of Participation Funds Subject to Reserve Requirements    3\n         seriesCode                          seriesName      start        end\n1: TP.KYBKATFON.KB1  Turkish Lira_Turkish Lira Accounts 10-05-2002 13-12-2024\n2: TP.KYBKATFON.KB2                   Fx Accounts (USD) 10-05-2002 13-12-2024\n3: TP.KYBKATFON.KB3                  Fx Accounts (EURO) 10-05-2002 13-12-2024\n4: TP.KYBKATFON.KB4 Fx Accounts Precious Minerals (USD) 14-10-2011 13-12-2024\n5: TP.KYBKATFON.KB5             Fx Accounts Other (USD) 10-05-2002 13-12-2024\n6: TP.KYBKATFON.KB6             Total Fx Accounts (USD) 10-05-2002 13-12-2024\n   aggMethod freqname  tag\n1:      last     Week <NA>\n2:      last     Week <NA>\n3:      last     Week <NA>\n4:      last     Week <NA>\n5:      last     Week <NA>\n6:      last     Week <NA>\n```\n\n\n:::\n:::\n\n\n\n### searchCBRT\n\nThe `searchCBRT` function in the **CBRT R package** provides a powerful tool for searching any category, group, or series name within the Central Bank of the Republic of Turkey's (CBRT) Electronic Data Delivery System (EVDS). By specifying keywords and the desired field to search in, users can efficiently locate relevant datasets. This function simplifies the process of finding specific information within the extensive EVDS repository, enabling direct access to the desired table or dataset. Whether searching for broad topics, specific groups, or individual data series, `searchCBRT` offers a flexible and efficient way to navigate the system and pinpoint the data needed for analysis.\n\nSuppose we want to find datasets related to \"Consumer Prices\" within the EVDS system. Using the `searchCBRT` function, we can search for this keyword in relevant fields to locate the desired tables or series. Here’s how to do it:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsearchCBRT(\"consumer price\", field = \"series\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n         seriesCode\n1:  TP.ENFBEK.TEA12\n2: TP.ENFBEK.TEA345\n3:     TP.FE.OKTG01\n4:        TP.FG.A09\n5:        TP.FG.A10\n6:       TP.TG2.Y14\n7:       TP.TG2.Y15\n8:        TP.FG.F19\n9:        TP.FG.F20\n                                                                                                         seriesName\n1:              Percentage of households expecting consumer prices to increase more rapidly or at the same rate (%)\n2: Percentage of households expecting consumer prices to stay about the same, fall or increase at a slower rate (%)\n3:                                                                                             Consumer Price Index\n4:                                                                        Consumer Prices Index of Ankara (Archive)\n5:                                                                      Consumer Prices Index of Istanbul (Archive)\n6:                                              Assessment on Consumer prices change rate (over the last 12 months)\n7:             Expectation for consumer prices change rate (over the next 12 months compared to the past 12 months)\n8:                                                                            Ankara Consumer Price Index (Archive)\n9:                                                                          Istanbul Consumer Price Index (Archive)\n       groupCode\n1:    bie_enfbek\n2:    bie_enfbek\n3:    bie_feoktg\n4: bie_fgtukfiy2\n5: bie_fgtukfiy2\n6:   bie_mbgven2\n7:   bie_mbgven2\n8:   bie_tukfiy1\n9:   bie_tukfiy1\n                                                                                                   groupName\n1:                                                                           Sectoral Inflation Expectations\n2:                                                                           Sectoral Inflation Expectations\n3: TURKSTAT- Consumer Price Index-Indicators for the CPI's Having Specified Coverages (2003=100)(New Series)\n4:                                                      Consumer Price Index (1987=100) (TURKSTAT) (Archive)\n5:                                                      Consumer Price Index (1987=100) (TURKSTAT) (Archive)\n6:     Seasonally unadjusted Consumer Confidence Index and Indices of Consumer Tendency Survey Questions (*)\n7:     Seasonally unadjusted Consumer Confidence Index and Indices of Consumer Tendency Survey Questions (*)\n8:                                                 Consumer Price Index (1978_1979=100) (TURKSTAT) (Archive)\n9:                                                 Consumer Price Index (1978_1979=100) (TURKSTAT) (Archive)\n```\n\n\n:::\n:::\n\n\n\n### getDataSeries\n\nThe `getDataSeries` function in the **CBRT R package** is a versatile tool for importing one or more time series directly from the EVDS. This function provides users with several advanced features to customize their data retrieval. For example, users can specify the frequency level (`freq`), such as daily, weekly, or monthly, and set a date range using the `startDate` and `endDate` arguments in the format `DD-MM-YYYY`. If the `endDate` is not specified, the function automatically retrieves data up to the latest available point.\n\nAn additional feature of `getDataSeries` is its ability to aggregate higher-frequency data into lower-frequency formats using the `aggType` argument. Supported aggregation methods include:\n\n-   `avg`: Average value,\n\n-   `first`: First observation,\n\n-   `last`: Last observation,\n\n-   `max`: Maximum value,\n\n-   `min`: Minimum value,\n\n-   `sum`: Summation of values.\n\nFor instance, if weekly data is aggregated to a monthly frequency, the aggregation method is applied to compute the resulting values. Furthermore, the `na.rm` argument allows users to drop all missing dates, ensuring clean and continuous time series data.\n\nHere’s an example demonstrating its use:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Import a time series (e.g., CPI data) with specific parameters\ncpi_data <- getDataSeries(\n  series = c(\"TP.FE.OKTG01\"),       # Example series ID\n  CBRTKey = my_api_key,            # Your API key\n  freq = 5,                     # Monthly frequency\n  startDate = \"01-01-2010\",     # Start date\n  endDate = \"31-12-2023\",       # End date\n  na.rm = TRUE                  # Remove missing dates\n)\n\n# View the imported data\nhead(cpi_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n         time TP.FE.OKTG01\n1: 2010-01-15       174.07\n2: 2010-02-15       176.59\n3: 2010-03-15       177.62\n4: 2010-04-15       178.68\n5: 2010-05-15       178.04\n6: 2010-06-15       177.04\n```\n\n\n:::\n:::\n\n\n\nFor example, we want to fetch exchange rates for USD, EUR, and GBP against the Turkish Lira (TRY) for a specific time period in monthly frequency.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Define the series IDs for USD, EUR, and GBP (Sales rate against TRY)\nusd_series <- \"TP.DK.USD.S\"\neur_series <- \"TP.DK.EUR.S\"\ngbp_series <- \"TP.DK.GBP.S\"\n\n# Define the frequency method\nfreq <- 5  # Monthly frequency\n\n# Define the date range for the data (e.g., from 01-01-2020 to 31-12-2024)\nstartDate <- \"01-01-2020\"\nendDate <- \"31-12-2024\"\n\n# Fetch the data for USD, EUR, and GBP exchange rates\nexchange_data <- getDataSeries(\n  series = c(usd_series,eur_series,gbp_series),\n  CBRTKey = my_api_key,\n  freq = freq,\n  startDate = startDate,\n  endDate = endDate,\n  na.rm = TRUE\n)\n\nhead(exchange_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n         time TP.DK.USD.S TP.DK.EUR.S TP.DK.GBP.S\n1: 2020-01-15    5.928827    6.586905    7.763218\n2: 2020-02-15    6.055370    6.605785    7.872095\n3: 2020-03-15    6.325805    7.001341    7.858764\n4: 2020-04-15    6.831252    7.430133    8.493257\n5: 2020-05-15    6.964488    7.573124    8.588112\n6: 2020-06-15    6.821091    7.676245    8.560195\n```\n\n\n:::\n:::\n\n\n\n## Conclusion\n\nThe `CBRT` R package is a powerful tool for accessing and analyzing Turkish economic data. By combining the package’s functionality with R’s robust analytical tools, users can unlock insights and streamline their research. Whether you’re tracking inflation trends, analyzing monetary policy impacts, or studying exchange rates, the `CBRT` package offers a seamless experience.\n\n### References\n\n1.  Taymaz, E. (2024). *CBRT R Package*. Retrieved from [CBRT Package ](https://users.metu.edu.tr/etaymaz/cbrt-2024.html#the-package)[Documentation](https://etaymaz.github.io/cbrt-2024.html)\n\n2.  Central Bank of the Republic of Turkey. *Electronic Data Delivery System (EVDS)*. Retrieved from [EVDS](https://evds2.tcmb.gov.tr/index.php?)\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}